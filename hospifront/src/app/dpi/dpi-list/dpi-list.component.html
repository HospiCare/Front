<div class="app">

  <!-- ... header content remains the same ... -->

  <main class="main">
    <div class="card">
      <div class="card-header">
        <h1 class="card-title">Liste des DPIs</h1>
        <button class="button primary" (click)="createDPI()">
          Creer DPI
          <svg viewBox="0 0 24 24" class="icon">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor" />
          </svg>
        </button>
      </div>

      <!-- Search Bar -->
      <div class="search-bar">
        <div class="search-input-container">
          <svg class="search-icon" viewBox="0 0 24 24">
            <path
              d="M10.5 2C5.81 2 2 5.81 2 10.5S5.81 19 10.5 19c2.21 0 4.21-.79 5.75-2.1l4.25 4.25 1.5-1.5-4.25-4.25C18.21 14.71 19 12.71 19 10.5 19 5.81 15.19 2 10.5 2zM10.5 17C7.46 17 5 14.54 5 10.5S7.46 4 10.5 4 16 6.46 16 10.5 13.54 17 10.5 17z"
              fill="rgba(128, 128, 128, 1)" />
          </svg>
          <input
            type="text"
            placeholder="Search..."
            class="search-input"
            (input)="searchDPIs($event)">
          <button class="qr-button" (click)="triggerFileInput()">
            <svg viewBox="0 0 24 24" class="icon">
              <path
                d="M6 2h12c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2zm0 2v12h12V4H6zm3 3h6v6H9V7zm0 8h6v2H9v-2z"
                fill="currentColor" />
            </svg>
          </button>
          <!-- Hidden File Input -->
          <input
            type="file"
            id="fileInput"
            accept=".jpg, .png, .pdf"
            (change)="onFileSelected($event)"
            style="display: none;">
        </div>
        <div class="layout-icons">
          <svg class="layout-icon" viewBox="0 0 24 24">
            <path d="M3 3h8v8H3V3zm0 10h8v8H3v-8zm10-10h8v8h-8V3zm0 10h8v8h-8v-8z" fill="rgba(128, 128, 128, 1)" />
          </svg>
          <svg class="layout-icon" viewBox="0 0 24 24">
            <path d="M3 3h18v18H3V3zm2 2v14h14V5H5z" fill="rgba(128, 128, 128, 1)" />
          </svg>
        </div>
      </div>

      <!-- ... rest of your table content ... -->
      <div class="table-container">
        <table class="table">
          <thead>
            <tr>
              <th>Nom</th>
              <th>NSS</th>
              <th>Email</th>
              <th>Tel.</th>
              <th>Date de creation</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            @for (patient of filteredPatients; track patient.nss) {
            <tr>
              <td>{{patient.name}}</td>
              <td>{{patient.nss}}</td>
              <td>{{patient.email}}</td>
              <td>{{patient.phone}}</td>
              <td>
                <div>{{patient.creationDate}}</div>
                <div class="time">{{patient.creationTime}}</div>
              </td>
              <td>
                <div class="actions">
                  <button class="icon-button" (click)="navigateToPatientDetails(patient)" title="Voir DPI">
                    <svg viewBox="0 0 24 24" class="icon">
                      <path
                        d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"
                        fill="currentColor" />
                    </svg>
                  </button>
                  <button class="icon-button" (click)="addToDPI(patient)" title="Ajouter au DPI">
                    <svg viewBox="0 0 24 24" class="icon">
                      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor" />
                    </svg>
                  </button>
                </div>
              </td>
              }
              @empty {
            <tr>
              <td colspan="6" class="empty-state">
                Aucun DPI trouv√©
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
    
  </main>
</div>